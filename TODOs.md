- [x]  Auth service needs to associate 1 time use auth token with a domain, so that only auth requests with a token from that domain are treated as valid (great redis expiring key use case)
- [x]  Semicolons at the end of queries in configuration shouldn't cause them to break
- [x]  Add reasonable timeout for JWT token verification (expired tokens might take a long time to come back as expired, causing front end to seem to hang)
- [ ] Take postgres out of managed service and use deployable instance
- [ ] Dont' rely on redis for base representation of data
  - [ ] stream all uuids into stored file named domain (stream into gcs as well)
  - [ ] stream all updates to uuids into file named uuid (stream into gcs as well)
- [ ]  Throw error instead of returning undefined when cross domain query fails (fails when points at wrong domain/no query configured)
- [ ]  Optimize table updates
- [ ]  Embeded agent create sessions w/ context
- [ ]  Embedding agent passes embed start time for embedded agent to record in addition to load + other times
- [ ]  History Download
- [ ]  Compaction
- [ ]  Per user resource usage tracking
  - [ ] user session # messages -> gives /sec from history
  - [ ] user session # open subscriptions -> gives subscription changes over time...
  - [ ] user session bytes ingress -> gives /sec from history
  - [ ] user session bytes state responses -> gives /sec from history
  - [ ] user session bytes subscriptions updates -> gives /sec from history
  - [ ] user session bytes query responses -> gives /sec from history && avg size & such...
  - [ ] user session bytes uploaded -> gives /sec from history && avg size & such...
  - [ ] per domain server session process network ingress
  - [ ] per domain server session process network egress
  - [ ] per domain server session process memory usage
  - [ ] per domain server session process cpu usage
- [ ]  Throttle naughty clients (protect against infinite loops on the client)
  - [ ] establish resource thresholds and close sessions that meet them
  - [ ] prioritize "known good" (authenticated users with history and no abuse) sessions above "unknowns"
    - [ ] pool of servers to host/connect "unknowns" before upgrading to "knowns"
  - [ ] domain customizable thresholds and reporting stats on admin domain
- [ ] allow undefined/empty columns on postgres table config (useful for tracking metadata for certain types...)
- [ ] better error sent to agent when trying to download a uuid that isn't an uploaded thing
- [ ] document/surface error for localhosts connecting on non https connections
- [ ] Agent.embed should guard against infinite loops in embeddings